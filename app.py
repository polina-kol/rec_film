import streamlit as st
import pandas as pd

# –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑
@st.cache_data
def load_data():
    return pd.read_csv("movies_list.csv")  # –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–∫

df = load_data()

st.title("üé¨ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é")
st.subheader("–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —Ñ–∏–ª—å–º—ã")

# –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
if st.button("üéû –ü–æ–∫–∞–∑–∞—Ç—å 10 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤"):
    # –í—ã–±–∏—Ä–∞–µ–º 10 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
    sample_df = df.sample(10).reset_index(drop=True)

    # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ñ–∏–ª—å–º—ã
    for i, row in sample_df.iterrows():
        st.markdown("### üé¨ " + row['movie_title'])
        st.image(row['image_url'], width=200)
        st.write("**–û–ø–∏—Å–∞–Ω–∏–µ:**", row.get('description', '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'))
        st.write("**–ñ–∞–Ω—Ä:**", row.get('genre', '–ù–µ —É–∫–∞–∑–∞–Ω'))
        st.write("**–†–µ–∂–∏—Å—Å—ë—Ä:**", row.get('director', '–ù–µ —É–∫–∞–∑–∞–Ω'))
        st.write("**–ì–æ–¥:**", row.get('year', '–ù–µ —É–∫–∞–∑–∞–Ω'))
        st.write("**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**", row.get('time', '–ù–µ —É–∫–∞–∑–∞–Ω–∞'))
        st.markdown("---")